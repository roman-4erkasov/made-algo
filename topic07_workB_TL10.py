"""
B. –†–∞–∑—Ä–µ–∂–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ç–µ—Å—Ç2 —Å–µ–∫—É–Ω–¥—ã
–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –ø–∞–º—è—Ç–∏ –Ω–∞ —Ç–µ—Å—Ç256 –º–µ–≥–∞–±–∞–π—Ç
–≤–≤–æ–¥—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥
–≤—ã–≤–æ–¥—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥
–î–∞–Ω –º–∞—Å—Å–∏–≤ –∏–∑ ùëõ —á–∏—Å–µ–ª. –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞: –Ω–∞–π—Ç–∏ –º–∏–Ω–∏–º—É–º –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ –º–µ–∂–¥—É ùë¢ –∏ ùë£ –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ.

–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –∑–¥–∞–Ω—ã —Ç—Ä–∏ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö —á–∏—Å–ª–∞ ùëõ, ùëö (1‚©Ωùëõ‚©Ω105, 1‚©Ωùëö‚©Ω107) –∏ ùëé1 (0‚©Ωùëé1<16714589) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö —á–∏—Å–ª–∞ ùë¢1 –∏ ùë£1 (1‚©Ωùë¢1,ùë£1‚©Ωùëõ) ‚Äî –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å.

–î–ª—è —Ç–æ–≥–æ, —Ä–∞–∑–º–µ—Ä –≤–≤–æ–¥–∞ –±—ã–ª –Ω–µ–±–æ–ª—å—à–æ–π, –º–∞—Å—Å–∏–≤ –∏ –∑–∞–ø—Ä–æ—Å—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è.

–≠–ª–µ–º–µ–Ω—Ç—ã ùëé2,ùëé3,‚Ä¶,ùëéùëõ –∑–∞–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–π —Ñ–æ—Ä–º—É–ª–æ–π:
ùëéùëñ+1=(23‚ãÖùëéùëñ+21563)mod16714589.
–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ ùëõ=10, ùëé1=12345 –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –º–∞—Å—Å–∏–≤: ùëé = (12345, 305498, 7048017, 11694653, 1565158, 2591019, 9471233, 570265, 13137658, 1325095).

–ó–∞–ø—Ä–æ—Å—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

ùë¢ùëñ+1=((17‚ãÖùë¢ùëñ+751+ùëüùëñ+2ùëñ)modùëõ)+1, ùë£ùëñ+1=((13‚ãÖùë£ùëñ+593+ùëüùëñ+5ùëñ)modùëõ)+1,
–≥–¥–µ ùëüùëñ ‚Äî –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å –Ω–æ–º–µ—Ä ùëñ.
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ ùë¢ùëñ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ, —á–µ–º ùë£ùëñ.

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–í –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª –≤—ã–≤–µ–¥–∏—Ç–µ ùë¢ùëö, ùë£ùëö –∏ ùëüùëö (–ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç –Ω–∞ –Ω–µ–≥–æ).

–ü—Ä–∏–º–µ—Ä—ã
–≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
10 8 12345
3 9
–≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
5 3 1565158
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
–ú–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –º–∞—Å—Å–∏–≤—ã ùë¢, ùë£ –∏ ùëü –º–æ–∂–Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –ø–∞–º—è—Ç–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é.

–ó–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –Ω–∏—Ö –≤—ã–≥–ª—è–¥—è—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

ùëñ 1 2 3 4 5 6 7 8
ùë¢ùëñ 3 10 1 10 5 2 3 5
ùë£ùëñ 9 1 2 10 9 1 2 3
ùëüùëñ 570265 12345 12345 1325095 570265 12345 305498 1565158
–≠—Ç–∞ –∑–∞–¥–∞—á–∞ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞–º–∏ Python 2 –∏ Python 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã PyPy.
"""

import sys
from math import frexp, log2
from pprint import pprint
 
 
input = sys.stdin.readline
 
 
POW = [
    1, 2, 4, 8, 16, 32,
    64, 128, 256, 512, 1024, 
    
    2048, 4096, 8192, 16384, 32768, 
    65536, 131072, 262144, 524288, 1048576, 
    
    2097152, 4194304, 8388608, 16777216, 33554432, 
    67108864, 134217728, 268435456, 536870912, 1073741824, 
    
    2147483648, 4294967296, 8589934592, 17179869184, 34359738368, 
    68719476736, 137438953472, 274877906944, 549755813888, 1099511627776
]
 
 
def get_table(arr, n, pow2):
    # n = len(arr) - 1
    table = [
        [n for _ in pow2]
        for _ in range(2*n)
    ]
 
    for row in range(n):
        col = 0
        table[row][col] = row
 
    for col in range(1,len(pow2)):
        # row = 0
        for row in range(n):
            # while row + pow2[col] <= n:
            idx_row = row + pow2[col - 1]
            if arr[table[row][col - 1]] <= arr[table[idx_row][col - 1]]:
                table[row][col] = table[row][col - 1]
            else:
                table[row][col] = table[idx_row][col - 1]
            row += 1
    return table
 
 
def cli_dialog():
    n, m, a0 = [int(x) for x in input().split()]
    u0, v0 = [int(x) for x in input().split()]
    log = [
        log2(i) if i > 0 else None for i in range(n + 1)
        # frexp(i)[1] - 1 if i > 0 else None for i in range(n + 1)
    ]
    pow2 = [
        POW[i] for i in range(int(log[n]) + 1)
    ]
 
    a: list = [None for _ in range(n)] + [float("Inf") for _ in range(n)]
    a[0] = a0
    for i in range(1, n):
        a[i] = (23 * a[i - 1] + 21563) % 16714589
        if a[i] < 0:
            a[i] += 16714589
    table: list = get_table(a, n, pow2)
    # pprint(table)
    u = u0
    v = v0
    left = min(u0, v0) - 1
    right = max(u0, v0) - 1
 
    k = int(log[right - left + 1])
    r = min(
        a[table[left][k]],
        a[table[right - POW[k] + 1][k]]
    )
 
    for i in range(1, m):
        u = (17 * u + 751 + r + 2 * i) % n + 1
        v = (13 * v + 593 + r + 5 * i) % n + 1
 
        left = min(u, v) - 1
        right = max(u, v) - 1
        k = int(log[right - left + 1])
        r = min(
            a[table[left][k]],
            a[table[right - POW[k] + 1][k]]
        )
    # print(f"{u} {v} {r}")
    sys.stdout.write(f"{u} {v} {r}\n")
 
 
if __name__ == '__main__':
    cli_dialog()
