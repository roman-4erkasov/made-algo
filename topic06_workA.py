"""
A. ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸Ðº ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð¼Ð¾Ð½ÐµÑ‚Ñ‹
Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð½Ð° Ñ‚ÐµÑÑ‚2 ÑÐµÐºÑƒÐ½Ð´Ñ‹
Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ð¿Ð°Ð¼ÑÑ‚Ð¸ Ð½Ð° Ñ‚ÐµÑÑ‚256 Ð¼ÐµÐ³Ð°Ð±Ð°Ð¹Ñ‚
Ð²Ð²Ð¾Ð´ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð²Ð²Ð¾Ð´
Ð²Ñ‹Ð²Ð¾Ð´ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð²Ñ‹Ð²Ð¾Ð´
ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸Ðº Ð¿Ñ€Ñ‹Ð³Ð°ÐµÑ‚ Ð¿Ð¾ ÑÑ‚Ð¾Ð»Ð±Ð¸ÐºÐ°Ð¼, Ñ€Ð°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ð¼ Ð½Ð° Ð¾Ð´Ð½Ð¾Ð¹ Ð»Ð¸Ð½Ð¸Ð¸ Ð½Ð° Ñ€Ð°Ð²Ð½Ñ‹Ñ… Ñ€Ð°ÑÑÑ‚Ð¾ÑÐ½Ð¸ÑÑ… Ð´Ñ€ÑƒÐ³ Ð¾Ñ‚ Ð´Ñ€ÑƒÐ³Ð°. Ð¡Ñ‚Ð¾Ð»Ð±Ð¸ÐºÐ¸ Ð¸Ð¼ÐµÑŽÑ‚ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð²Ñ‹Ðµ Ð½Ð¾Ð¼ÐµÑ€Ð° Ð¾Ñ‚ 1 Ð´Ð¾ ð‘›. Ð’ Ð½Ð°Ñ‡Ð°Ð»Ðµ ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸Ðº ÑÐ¸Ð´Ð¸Ñ‚ Ð½Ð° ÑÑ‚Ð¾Ð»Ð±Ð¸ÐºÐµ Ñ Ð½Ð¾Ð¼ÐµÑ€Ð¾Ð¼ 1 Ð¸ Ñ…Ð¾Ñ‡ÐµÑ‚ Ð´Ð¾Ð±Ñ€Ð°Ñ‚ÑŒÑÑ Ð´Ð¾ ÑÑ‚Ð¾Ð»Ð±Ð¸ÐºÐ° Ñ Ð½Ð¾Ð¼ÐµÑ€Ð¾Ð¼ ð‘›. ÐžÐ½ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ñ‹Ð³Ð½ÑƒÑ‚ÑŒ Ð²Ð¿ÐµÑ€ÐµÐ´ Ð½Ð° Ñ€Ð°ÑÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¾Ñ‚ 1 Ð´Ð¾ ð‘˜ ÑÑ‚Ð¾Ð»Ð±Ð¸ÐºÐ¾Ð², ÑÑ‡Ð¸Ñ‚Ð°Ñ Ð¾Ñ‚ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾.

ÐÐ° ÐºÐ°Ð¶Ð´Ð¾Ð¼ ÑÑ‚Ð¾Ð»Ð±Ð¸ÐºÐµ ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸Ðº Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸Ð»Ð¸ Ð¿Ð¾Ñ‚ÐµÑ€ÑÑ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð·Ð¾Ð»Ð¾Ñ‚Ñ‹Ñ… Ð¼Ð¾Ð½ÐµÑ‚ (Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÑ‚Ð¾Ð»Ð±Ð¸ÐºÐ° ÑÑ‚Ð¾ Ñ‡Ð¸ÑÐ»Ð¾ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾). ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚Ðµ, ÐºÐ°Ðº Ð½ÑƒÐ¶Ð½Ð¾ Ð¿Ñ€Ñ‹Ð³Ð°Ñ‚ÑŒ ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸ÐºÑƒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ð½Ð°Ð¸Ð±Ð¾Ð»ÑŒÑˆÐµÐµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð·Ð¾Ð»Ð¾Ñ‚Ñ‹Ñ… Ð¼Ð¾Ð½ÐµÑ‚. Ð£Ñ‡Ð¸Ñ‚Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸Ðº Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ñ‹Ð³Ð°Ñ‚ÑŒ Ð½Ð°Ð·Ð°Ð´.

Ð’Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
Ð’ Ð¿ÐµÑ€Ð²Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ Ð²Ð²Ð¾Ð´ÑÑ‚ÑÑ Ð´Ð²Ð° Ð½Ð°Ñ‚ÑƒÑ€Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ‡Ð¸ÑÐ»Ð°: ð‘› Ð¸ ð‘˜ (3â‰¤ð‘›â‰¤10000, 1â‰¤ð‘˜â‰¤10000), Ñ€Ð°Ð·Ð´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±ÐµÐ»Ð¾Ð¼. Ð’Ð¾ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ Ð·Ð°Ð¿Ð¸ÑÐ°Ð½Ñ‹ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ» ð‘›âˆ’2 Ñ†ÐµÐ»Ñ‹Ñ… Ñ‡Ð¸ÑÐ»Ð° â€“ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¼Ð¾Ð½ÐµÑ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸Ðº Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð½Ð° ÐºÐ°Ð¶Ð´Ð¾Ð¼ ÑÑ‚Ð¾Ð»Ð±Ð¸ÐºÐµ, Ð¾Ñ‚ 2-Ð³Ð¾ Ð´Ð¾ ð‘›âˆ’1-Ð³Ð¾. Ð•ÑÐ»Ð¸ ÑÑ‚Ð¾ Ñ‡Ð¸ÑÐ»Ð¾ Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ, ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸Ðº Ñ‚ÐµÑ€ÑÐµÑ‚ Ð¼Ð¾Ð½ÐµÑ‚Ñ‹. Ð“Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ Ð²ÑÐµ Ñ‡Ð¸ÑÐ»Ð° Ð¿Ð¾ Ð¼Ð¾Ð´ÑƒÐ»ÑŽ Ð½Ðµ Ð¿Ñ€ÐµÐ²Ð¾ÑÑ…Ð¾Ð´ÑÑ‚ 10000.

Ð’Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
Ð’ Ð¿ÐµÑ€Ð²Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð´Ð¾Ð»Ð¶Ð½Ð° Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ð½Ð°Ð¸Ð±Ð¾Ð»ÑŒÑˆÐµÐµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¼Ð¾Ð½ÐµÑ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸Ðº. Ð’Ð¾ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ Ñ‡Ð¸ÑÐ»Ð¾ Ð¿Ñ€Ñ‹Ð¶ÐºÐ¾Ð² ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸ÐºÐ°, Ð° Ð² Ñ‚Ñ€ÐµÑ‚ÑŒÐµÐ¹ ÑÑ‚Ñ€Ð¾ÐºÐµ â€“ Ð½Ð¾Ð¼ÐµÑ€Ð° Ð²ÑÐµÑ… ÑÑ‚Ð¾Ð»Ð±Ð¸ÐºÐ¾Ð², ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¿Ð¾ÑÐµÑ‚Ð¸Ð» ÐšÑƒÐ·Ð½ÐµÑ‡Ð¸Ðº (Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ» Ð² Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚Ð°Ð½Ð¸Ñ).

Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾, Ð²Ñ‹Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð»ÑŽÐ±Ð¾Ð¹ Ð¸Ð· Ð½Ð¸Ñ….

ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹
Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹ÐµÐ¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ
5 3
2 -3 5
Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹ÐµÐ¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ
7
3
1 2 4 5 
Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹ÐµÐ¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ
10 3
-13 -2 -14 -124 -9 -6 -5 -7
Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹ÐµÐ¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ
-16
4
1 3 6 8 10 
Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹ÐµÐ¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ
12 5
-5 -4 -3 -2 -1 1 2 3 4 5
Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹ÐµÐ¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ
14
7
1 6 7 8 9 10 11 12 
"""
from queue import Queue, deque
 
 
def solution(n: int, k: int, coins: list):
    """
    Dynamic programming aproach for The Grasshooper problems
    """
 
    path_best = deque([0])
 
    buff = Queue()
    buff.put(0)
 
    profit_curr = 0
    n_jumps = 0
    while not buff.empty():
        curr = buff.get()
        profit_max_ = None
        jump_best = None
        for delta in range(1, k+1):
            jump = delta + curr
            if jump >= n:
                break
            profit = profit_curr + coins[jump]
            if profit_max_ is None or profit_max_ < profit:
                jump_best = jump
                profit_max_ = profit
                if coins[jump] >= 0:
                    break
        if jump_best is not None:
            profit_curr = profit_max_
            buff.put(jump_best)
            path_best.append(jump_best)
            n_jumps += 1
    return n_jumps, profit_curr, [x for x in path_best]
 
 
def cli_dialog():
    """
    test 1:
    5 3
    2 -3 5
    7
    3
    1 2 4 5 
 
    test 2:
    8 2
    1 2 -1 -1 7 -1
    9
    5
    1 2 3 4 6 8
    """
    N, K = [int(x) for x in input().split()]
    coins = [0] + [int(x) for x in input().split()] + [0]
    n_jumps, max_profit, steps = solution(N, K, coins)
    print(max_profit)
    print(n_jumps)
    print(" ".join([str(x + 1) for x in steps]))
 
 
if __name__ == "__main__":
    cli_dialog()